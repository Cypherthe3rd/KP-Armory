BULLET
{
    name = 90mmShell
	DisplayName = Explosive
	caliber = 90
	bulletVelocity = 1300
	bulletMass = 10
	//HE Bullet Values
	explosive = True
	incendiary = False
	tntMass = 0.8 //8% filer, about average for shells this size
	fuzeType = None 
	projectileColor = 125, 125, 125, 5
	fadeColor = True
	startColor = 255, 176, 5, 190
	subProjectileCount = 1
	apBulletMod = 0.8
	bulletDragTypeName = AnalyticEstimate	
}

BULLET
{
    name = 90mmAPShell
	DisplayName = Armor-Piercing
	caliber = 90
	bulletVelocity = 1300
	bulletMass = 12
	//HE Bullet Values
	explosive = True
	incendiary = False
	tntMass = 0.3
	fuzeType = Penetrating 
	projectileColor = 125, 125, 125, 5
	fadeColor = True
	startColor = 255, 246, 227, 0
	subProjectileCount = 1
	apBulletMod = 1.2
	bulletDragTypeName = AnalyticEstimate	
}
BULLET
{
    name = 90mmIShell
	DisplayName = Incendiary
	caliber = 90
	bulletVelocity = 1300
	bulletMass = 8.9
	//HE Bullet Values
	explosive = True
	incendiary = True
	tntMass = 0.18
	fuzeType = Delay 
	projectileColor = 128, 128, 128, 5
	fadeColor = False
	startColor = 255, 90, 25, 190
	subProjectileCount = 1
	apBulletMod = 0.75
	bulletDragTypeName = AnalyticEstimate	
}
BULLET
{
    name = 90mmPShell
	DisplayName = Proximity
	caliber = 90
	bulletVelocity = 740
	bulletMass = 7
	//HE Bullet Values
	explosive = Standard
	incendiary = False
	beehive = True
	subMunitionType = 90mmPShellSub
	tntMass = 0.05
	fuzeType = Proximity
	projectileColor = 128, 128, 128, 5
	fadeColor = true
	startColor = 40, 212, 255, 190
	subProjectileCount = 1
	apBulletMod = 0.25
	bulletDragTypeName = AnalyticEstimate	
}
BULLET
{
    name = 90mmPShellSub //90mm Proxi submunition
	DisplayName = HE Submunition
	caliber = 25
	bulletVelocity = 100
	bulletMass = 0.15
	//HE Bullet Values
	explosive = Standard
	incendiary = False
	tntMass = 0.1
	fuzeType = None 
	projectileColor = 144, 144, 144, 128
	fadeColor = True
	startColor = 192, 192, 192, 32
	apBulletMod = 0.8
	bulletDragTypeName = AnalyticEstimate
	subProjectileCount = 20
	subProjectileDispersion = 4
}



PART
{
	// --- general parameters ---
	name = KPlynx
	module = Part
	author = Spartwo, Broccoli(a bit)

	// --- asset parameters ---
	mesh = lynx.mu
	rescaleFactor = 1

	// --- node definitions ---
	node_attach = 0.0, 0, 0, 0, -1.0, 0, 2
	node_stack_bottom = 0.0, 0.0, 0.0, 0.0, -1.0, 0.0, 2

	// --- editor parameters ---
	TechRequired = precisionEngineering
	entryCost = 2200
	cost = 1600
	category = none
	bdacategory = Gun turrets
	subcategory = 0

	
	attachRules = 1,1,1,1,0 // attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	bulkheadProfiles = srf
	
	title = KP41 "Lynx"
	manufacturer = Corais Armory
	description = Lynx something - A nifty turret that fires a three round burst. 
	tags = #loc_BDArmory_part_bahaAbrams_tags

	// --- standard part parameters ---
	mass = 1.2
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2
	crashTolerance = 75
	maxTemp = 3600

	stagingIcon = SOLID_BOOSTER


	MODULE
	{
		name = ModuleTurret

		pitchTransformName = Pitch
		yawTransformName = Yaw

		pitchSpeedDPS = 40
		yawSpeedDPS = 40

		maxPitch = 30
		minPitch = -3
		yawRange = 360

		smoothRotation = false
		smoothMultiplier = 20
	}

	MODULE
	{
		name = ModuleWeapon

		fireTransformName = FireTransform

		hasDeployAnim = false
		
		hasFireAnimation = true
		fireAnimName = KP41Fire
		spinDownAnimation = false
		
		roundsPerMinute = 350
		maxDeviation = 0.31
		maxTargetingRange = 3500
		maxEffectiveDistance = 2200
		
		BurstFire = true
		RoundsPerMag = 1 
		ReloadTime = 5 
		
		weaponType = ballistic
		ammoName = CannonShells
		bulletType = 90mmShell; 90mmAPShell; 90mmIShell; 90mmPShell
		
		requestResourceAmount = 1
		recoilReduction = 0.8
		hasRecoil = true
		onlyFireInRange = false
		bulletDrop = true	
		
		projectileColor = 255, 247, 0, 255
		
		tracerStartWidth = 0.4
		tracerEndWidth = 0.1
		tracerLength = 0
		
		maxHeat = 3600
		heatPerShot = 40
		heatLoss = 500
			
		fireSoundPath = KerbalPowers/Armory/Sounds/LynxShot
		overheatSoundPath = BDArmory/Parts/50CalTurret/sounds/turretOverheat
		oneShotSound = true
		showReloadMeter = true
		reloadAudioPath = KerbalPowers/Armory/Sounds/LynxReload
		
	}
	
	MODULE
	{
		name = ModuleTargetingCamera
		cameraTransformName = camTransform
		zoomFOVs = 3,1,0.3,0.05
		gimbalLimit = 0
	}

	
	MODULE
		{
			name = ModulePartVariants
			primaryColor = #ffffff
			secondaryColor = #000000
			baseVariant = Unmanned
			useMultipleDragCubes = false
			VARIANT
			{
				name = Manned
				displayName = Manned
				primaryColor = #ffffff
				secondaryColor = #ffffff
				GAMEOBJECTS
				{
					Barrel_25mm = false
					Barrel = true
					Periscope = true
					Periscope.collider = true
				}
			}	
			VARIANT
			{
				name = Unmanned
				displayName = Unmanned
				primaryColor = #ffffff
				secondaryColor = #ffffff
				GAMEOBJECTS
				{
					Barrel_25mm = false
					Barrel = true
					Periscope = false
					Periscope.collider = false
				}
			}			
		}

	}

	//MODULE
	//{
	//	name = CMDropper
	//	ejectTransformName = cmTransform
	//	effectsTransformName = effectsTransform
	//	countermeasureType = smoke
	//}
	
	//RESOURCE
	//{
	//	name = CMSmoke
	//	amount = 4
	//	maxAmount = 4
	//}

}
